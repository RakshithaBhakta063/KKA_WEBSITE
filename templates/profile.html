<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <script src="{{ url_for('static', filename='scripts/profile.js') }}" defer></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/user_dashboard.css') }}">
</head>
<body>
    <div class="profile-container">
        <h2>User Profile</h2>
        <form id="profileForm">
            <input type="hidden" id="userId" value="{{ session['user_id'] }}">

            <label>Name:</label>
            <input type="text" id="name" name="name" value="{{ user_data['name'] }}" required>

            <label>Email:</label>
            <input type="email" id="email" name="email" value="{{ user_data['email'] }}" readonly>

            <label>Phone:</label>
            <input type="tel" id="phone" name="phone" value="{{ user_data['phone'] }}" required>

            <label>City:</label>
            <input type="text" id="city" name="city" value="{{ user_data['nearest_city'] }}" required>

            <label>Family Details:</label>
            <textarea id="family_details" name="family_details">{{ user_data['details'] }}</textarea>

            <label>Number of Children:</label>
            <input type="number" id="children" name="num_children" value="{{ user_data['num_children'] }}">

            <label>Interests:</label>
            <input type="text" id="interests" name="interests" value="{{ user_data['interests'] }}">

            <button type="submit">Update Profile</button>
        </form>

        <h3>Registered Events</h3>
        <ul id="eventList">
            {% for event in user_events %}
                <li>{{ event['title'] }} - {{ event['date'] }}</li>
            {% endfor %}
        </ul>

        <a href="{{ url_for('home') }}">Back to Home</a>
    </div>
</body>
</html>
